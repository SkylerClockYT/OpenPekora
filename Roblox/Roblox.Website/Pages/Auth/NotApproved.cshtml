@page "/auth/notapproved"
@model Roblox.Website.Pages.NotApproved

@{
    Layout = "Shared/_Layout";
}
<div class="container mt-4">
    <div class="row">
        <div class="col-12 col-lg-6 offset-lg-3">
            <div class="card card-body bg-dark text-light">
                @{
                    if (Model.ban!.expiredAt != null)
                    {
                        var banDuration = Model.ban.expiredAt.Value - DateTime.Now;
                        string banText;
                        if (banDuration.TotalMinutes <= 1)
                        {
                            banText = "Warned";
                        }
                        else if (banDuration.TotalDays <= 1)
                        {
                            banText = "Banned for 1 day";
                        }
                        else if (banDuration.TotalDays <= 3)
                        {
                            banText = "Banned for 3 days";
                        }
                        else if (banDuration.TotalDays <= 7)
                        {
                            banText = "Banned for 1 week";
                        }
                        else if (banDuration.TotalDays <= 14)
                        {
                            banText = "Banned for 2 weeks";
                        }
                        else if (banDuration.TotalDays <= 30)
                        {
                            banText = "Banned for 1 month";
                        }
                        else if (banDuration.TotalDays <= 365)
                        {
                            banText = "Banned for 1 year";
                        }
                        else
                        {
                            banText = $"Banned for {(int)banDuration.TotalDays} days";
                        }

                        <h3>@banText</h3>
                    }
                    else
                    {
                        <h3>Account Deleted</h3>
                    }
                }

                <p class="mb-0">
                    @if (Model.ban.expiredAt != null)
                    {
                        <span>Your account has been temporarily banned from this website for the following reason:</span>
                    }
                    else
                    {
                        <span>Your account has been permanently banned from this website for the following reason:</span>
                    }
                </p>
                @if (Model.ninjaLowTaperFade)
                {
                    <img src="https://www.silrev.biz/img/LowTaperFade.jpeg" alt="Massive!">
                }
                <div class="alert alert-secondary mt-2 mb-2">
                    <p class="mb-0">@Model.ban.reason</p>
                    <p class="mb-0 fst-italic mt-4">Ban created: @Model.ban.createdAt.ToString("f") UTC</p>
                    @if (Model.ban.expiredAt != null)
                    {
                        <p class="mb-0 fst-italic mt-1">Ban expiration: @Model.ban.expiredAt.Value.ToString("f") UTC</p>
                    }
                </div>
                @if (Model.ban.canUnlock)
                {
                    <p>You can unlock your account by clicking the button below. Further violations of our rules may lead to account deletion.</p>
                    <form method="POST">
                        <input type="submit" name="unlockAccount" value="Unlock Account" class="btn btn-success" />
                        @Html.AntiForgeryToken()
                    </form>
                }
                else
                {
                    <p>If you attempt to create accounts to bypass a ban, we may ban your new accounts at any time.</p>
                }
            </div>
        </div>
    </div>
</div>